extends ../includes/dashbar
append dash-postHead
	link(rel='stylesheet' href='//cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css')
append content
	script.
		var topname = "linkHistPedidos-top";
		var sidename = "linkHistPedidos-side";
	h1.landing-head.text-center
		| #{title}
	h6.text-center Haz click en el número de tracking para copiar su enlace de rastreo
	//- More on datatables: https://www.youtube.com/watch?v=yGBk9Nalyq8
	.container.mb-3.mt-3
		table.display.table-responsive-lg#orderHistory(style='width: 100%;')
			thead
				tr
					th(scope='col') Tracking #
					th(scope='col') Nombre Pedido
					th(scope='col') Descripción
					th(scope='col') Despacho hacia
					th(scope='col') Comuna
					th(scope='col') Fecha de creación
					th(scope='col') Status
					th(scope='col') Fecha de delivery
					th(scope='col') Costo NVIO
			tbody
				each ORD, index in orders
					tr
						th(scope='row' onclick='copyAsLink(this)' id='TableHead_' + index)  #{companyId + ORD.SK.S.replace("ORDER#","")}
						td #{ORD.orderName.S}
						td #{ORD.orderDesc.S}
						td #{ORD.toAddress.M.street.S} #{ORD.toAddress.M.number.N}
						td #{ORD.toAddress.M.locality.S}
						td #{new Date(parseInt(ORD.createdAt.N)).getDate()}-#{new Date(parseInt(ORD.createdAt.N)).getMonth() + 1}-#{new Date(parseInt(ORD.createdAt.N)).getFullYear()}
						td #{ORD.status.N}
						td #{new Date(parseInt(ORD.createdAt.N)).getDate()}-#{new Date(parseInt(ORD.createdAt.N)).getMonth() + 1}-#{new Date(parseInt(ORD.createdAt.N)).getFullYear()}
						td #{ORD.orderValue.N}
append dash-viewscript
	script(src='/static/js/copy-on-click.js')
	script(src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous")
	script(src='https://unpkg.com/@popperjs/core@2')
	script(src='//cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js')
	//- Datatable declaration
	script(src='/static/js/declare-order-history.js')
